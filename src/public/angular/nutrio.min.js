angular.module("nutrioApp",["ngRoute","routeStyles"]),angular.module("nutrioApp").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/meals",{templateUrl:"/meal_plan/meal.view.html",controller:"mealPlanCtrl",controllerAs:"vm",css:"../public/stylesheets/style.css"}).when("/daily_calorie",{templateUrl:"/daily_calorie/calorie.view.html",controller:"dailyCalorieCtrl",controllerAs:"vm",css:["../public/stylesheets/style.css","/daily_calorie/calorie.css"]}).when("/replace_ingredient",{templateUrl:"/replace_ingredient/ingredient.view.html",controller:"replaceIngredientCtrl",controllerAs:"vm"}).when("/instructions/:mealid",{templateUrl:"/recipe_instructions/instructions.view.html",controller:"instructionsCtrl",controllerAs:"vm"}).when("/user/:userid",{templateUrl:"/user/user.view.html",controller:"userCtrl",controllerAs:"vm",css:["../public/stylesheets/style.css","/user/user.css"]}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}]),function(){function e(e){var t=this;t.pageHeader={title:"Nutrio",strapline:"Find diets for healthy living"},t.breakfastImageUrl="../home/breakfast.jpg",t.hamImageUrl="../home/hamburgers.jpg",t.meatballsImageUrl="../home/meatballs.jpg",t.styleImage={width:"200px",height:"200px","margin-left":"auto","margin-right":"auto",display:"block"},t.message="Loading food trivia...",e.then(function(e){e.data.text&&(t.message=""),t.trivia=e.data.text},function(e){console.log(e)})}angular.module("nutrioApp").controller("homeCtrl",e),e.$inject=["triviaData"]}(),function(){function e(t,a){var i=this;i.pageHeader={title:"Meal Plan",strapline:"Generate a meal plan with three meals per day!"},i.mealParams={timeFrame:"day"},i.dietInvalid=!1,i.targetCaloriesInvalid=!1,i.onSubmit=function(){i.mealForm.diet.$valid||(i.dietInvalid=!0),i.mealForm.calories.$valid||(i.targetCaloriesInvalid=!0),i.mealForm.$valid&&i.displayDailyMealPlan(i.mealParams)},i.saveSelectedMeal=function(e){e.isChecked&&a.saveMeal({id:e.id,title:e.title,readyInMinutes:e.readyInMinutes,servings:e.servings,image:e.image})},i.displayDailyMealPlan=function(e){i.message="Loading meal plan...",t.getMeals(e).then(function(e){e.data.meals[0].id&&(i.message=""),i.meals=e.data.meals,i.nutrients=e.data.nutrients},function(e){i.message="Error while loading meals",console.log(e)})}}angular.module("nutrioApp").controller("mealPlanCtrl",e),e.$inject=["mealPlanData","saveMealData"]}(),function(){function e(t,a){var i=this;i.pageHeader={title:"Daily Calorie Recipes",strapline:"Find multiple recipes that, when added up, reach your daily caloric needs."},i.calorieParams={timeFrame:"day"},i.targetCaloriesInvalid=!1,i.onSubmit=function(){i.mealForm.calories.$valid||(i.targetCaloriesInvalid=!0),i.mealForm.$valid&&i.displayRecipeDailyCalorie(i.calorieParams)},i.saveSelectedMeal=function(e){e.isChecked&&a.saveMeal({id:e.id,title:e.title,readyInMinutes:e.readyInMinutes,servings:e.servings,image:e.image})},i.displayRecipeDailyCalorie=function(e){i.message="Loading daily calorie recipes...",t.getDailyCalorie(e).then(function(e){e.data.meals[0].id&&(i.message=""),i.meals=e.data.meals,i.nutrients=e.data.nutrients,console.log(i.meals)},function(e){console.log(e)})}}angular.module("nutrioApp").controller("dailyCalorieCtrl",e),e.$inject=["dailyCalorieData","saveMealData"]}(),function(){function e(e){var a=this;a.pageHeader={title:"Replace Ingredients",strapline:"Find a similar ingredients"},a.ingredientParams={},a.errorInput={color:"#f3c4a3"},a.ingredientInvalid=!1,a.onSubmit=function(){a.ingredientForm.ingredient.$valid||(a.ingredientInvalid=!0),a.ingredientForm.$valid&&a.displayReplaceIngredient(a.ingredientParams)},a.displayReplaceIngredient=function(t){e(t).then(function(e){console.log(e),a.message=e.data.message},function(e){a.message="Could not find any substitutes for "+t.ingredientName,console.log(e)})}}angular.module("nutrioApp").controller("replaceIngredientCtrl",e),e.$inject=["replaceIngredientData"]}(),function(){function e(e,t){var a=this;a.mealid=e.mealid,a.pageHeader={title:"Recipe Instructions",strapline:"Instructions to prepare your choice meal"},a.styleFont={"font-size":"20px"},a.message="Loading recipe instructions",t(a.mealid).then(function(e){e.data.steps&&(a.message=""),a.steps=e.data.steps,a.ingredientList=[],a.equipmentList=[];var t={};angular.forEach(a.steps,function(e){angular.forEach(e.ingredients,function(e){t[e.id]||(a.ingredientList.push(e),t[e.id]=!0)})}),console.log(a.ingredientList)},function(e){console.log(e),a.message="Error loading reciper instructions"})}angular.module("nutrioApp").controller("instructionsCtrl",e),e.$inject=["$routeParams","instructionsData"]}(),function(){function e(e){var t=this;t.pageHeader={title:"User Profile",strapline:"Track your favourite meals for later"},t.message="Loading saved meals...",e.getMeals().then(function(e){console.log(e),e.data.meals[0].id&&(t.message=""),t.meals=e.data.meals},function(e){console.log(e)})}angular.module("nutrioApp").controller("userCtrl",e),e.$inject=["userData"]}(),function(){function e(t){return function(e){return t({method:"GET",url:"/api/v1/replace_ingredient",params:e})}}angular.module("nutrioApp").service("replaceIngredientData",e),e.$inject=["$http"]}(),function(){function e(t){return function(e){return t({method:"GET",url:"/api/v1/recipe_instructions/"+e})}}angular.module("nutrioApp").service("instructionsData",e),e.$inject=["$http"]}(),function(){function e(e){return e.get("/api/v1/trivia")}angular.module("nutrioApp").service("triviaData",e),e.$inject=["$http"]}(),function(){function e(t){return{getMeals:function(e){return t({method:"GET",url:"/api/v1/meal_plan",params:e})}}}angular.module("nutrioApp").service("mealPlanData",e),e.$inject=["$http"]}(),function(){function e(t){return{getDailyCalorie:function(e){return t({method:"GET",url:"/api/v1/daily_calorie_recipe",params:e})}}}angular.module("nutrioApp").service("dailyCalorieData",e),e.$inject=["$http"]}(),function(){function e(t){return{saveMeal:function(e){return console.log(e),t({method:"POST",url:"/api/v1/meal",data:e})}}}angular.module("nutrioApp").service("saveMealData",e),e.$inject=["$http"]}(),function(){function e(e){return{getMeals:function(){return e({method:"GET",url:"api/v1/meals"})}}}angular.module("nutrioApp").service("userData",e),e.$inject=["$http"]}(),angular.module("nutrioApp").directive("footerGeneric",function(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}),angular.module("nutrioApp").directive("navigation",function(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}),angular.module("nutrioApp").directive("pageHeader",function(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}});